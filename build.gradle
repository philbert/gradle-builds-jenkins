buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
    maven {
      url "http://maven.jenkins-ci.org:8081/content/repositories/releases/"
    }
  }
  dependencies {
    classpath "com.terrafolio:gradle-jenkins-plugin:1.3.2"
  }
}

apply plugin: "com.terrafolio.jenkins"

jenkins {
    // server definitions
    servers {
        demo {
            url 'http://88.80.174.222:8080/'
            secure true
            username "phil"
            password "phil"
        }
    }

    defaultServer servers.demo

    jobs {
//        job {
            dsl {
                workflowJob('example') {
                    definition {
                        cpsScm {
                            scm {
                                git('https://github.com/philbert/gradle-builds-jenkins.git')
                            }
                        }
                    }
                }
//                description "This job is created by gradle and the DSL plugin"
//                displayName "gradle-created-pipeline-job"
            }
        //}
    }
}
